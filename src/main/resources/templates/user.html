<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <link rel="icon" type="image/png" href="/img/favicon.ico">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

  <title>Tutor Me</title>

  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'
        name='viewport'/>
  <meta name="viewport" content="width=device-width"/>


  <!-- Bootstrap core CSS     -->
  <link href="/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- Animation library for notifications   -->
  <link href="/css/animate.min.css" rel="stylesheet"/>

  <!--  Light Bootstrap Table core CSS    -->
  <link href="/css/light-bootstrap-dashboard.css?v=1.4.0" rel="stylesheet"/>


  <!--  CSS for Demo Purpose, don't include it in your project     -->
  <link href="/css/demo.css" rel="stylesheet"/>


  <!--     Fonts and icons     -->
  <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"
        rel="stylesheet">
  <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300' rel='stylesheet'
        type='text/css'>
  <link href="/css/pe-icon-7-stroke.css" rel="stylesheet"/>

  <link rel="stylesheet" type="text/css" href="/css/image-picker.css">
</head>
<body>

<div class="wrapper">
  <div class="sidebar" data-color="purple" data-image="/img/sidebar-5.jpg">
    <!--
            Tip 1: you can change the color of the sidebar using: data-color="blue | azure | green | orange | red | purple"
            Tip 2: you can also add an image using data-image tag
        -->
    <div class="sidebar-wrapper">
      <div class="logo" style="padding-left: 10px">
        <div class="login100-pic js-tilt" data-tilt=""
             style="will-change: transform; transform: perspective(300px) rotateX(0deg) rotateY(0deg);"
             onclick="window.location.href='/'">
          <img style="width: 240px; height: auto;" src="/img/logo.png" alt="logo">
        </div>
      </div>

      <ul class="nav">
        <li>
          <a href="/dashboard">
            <i class="pe-7s-home"></i>
            <p>Home</p>
          </a>
        </li>
        <li>
          <a href="/calls">
            <i class="pe-7s-video"></i>
            <p>Calls</p>
          </a>
        </li>
        <li>
          <a href="/chats">
            <i class="pe-7s-chat"></i>
            <p>Chats</p>
          </a>
        </li>

        <li>
          <a href="/calendar">
            <i class="pe-7s-date"></i>
            <p>Calendar</p>
          </a>
        </li>
        <li>
          <a href="/homework">
            <i class="pe-7s-note"></i>
            <p>Homework</p>
          </a>
        </li>
        <li>
          <a href="/notes">
            <i class="pe-7s-notebook"></i>
            <p>Notes</p>
          </a>
        </li>

        <li class="active">
          <a href="/user">
            <i class="pe-7s-user"></i>
            <p>User Profile</p>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="main-panel">
    <nav class="navbar navbar-default navbar-fixed">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse"
                  data-target="#navigation-example-2">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">User Profile</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-left"></ul>

          <ul class="nav navbar-nav navbar-right">
            <li>
              <a href="" style="padding-top: 12px;padding-right: 0px;">
                <p th:text="${person.name}"></p>
              </a>
            </li>
            <li>
              <div class="login100-pic js-tilt" data-tilt=""
                   style="will-change: transform; transform: perspective(300px) rotateX(0deg) rotateY(0deg);">
                <img id="navBarProfilePic" class="avatar border-gray"
                     style="margin-top: 6px; height: 50px; width: 50px;"
                     th:src="'/img/avatars/' + ${person.avatar} + '.png'"
                     th:alt="${person.avatar}"/>
              </div>
            </li>
            <li>
              <a href="/logout" style="padding-top: 12px">
                <p>Log out</p>
              </a>
            </li>
            <li class="separator hidden-lg"></li>
          </ul>
        </div>
      </div>
    </nav>


    <div class="content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6">
                <div class="card card-user">
                  <div class="image">
                    <img style="height: auto;width: 100%"
                         src="https://ununsplash.imgix.net/photo-1431578500526-4d9613015464?fit=crop&fm=jpg&h=300&q=75&w=400"
                         alt="..."/>
                  </div>
                  <div class="content">
                    <div class="author">
                      <a href="#">
                        <div class="logo" style="padding-left: 10px">
                          <div class="login100-pic js-tilt" data-tilt=""
                               style="will-change: transform; transform: perspective(300px) rotateX(0deg) rotateY(0deg);">
                            <img id="profilePic" class="avatar border-gray"
                                 th:src="'/img/avatars/' + ${person.avatar} + '.png'"
                                 th:alt="${person.avatar}"/>
                          </div>
                        </div>

                        <h4 id="nameUnderProfilePic" class="title" th:text="${person.name}"><br/>
                        </h4>
                      </a>
                    </div>
                    <p id="statusUnderProfilePic" class="description text-center"
                       th:text="${person.status}"></p>
                  </div>
                  <hr>
                  <div class="text-center">
                    <button href="#" class="btn btn-simple"><i class="fa fa-facebook-square"></i>
                    </button>
                    <button href="#" class="btn btn-simple"><i class="fa fa-twitter"></i></button>
                    <button href="#" class="btn btn-simple"><i class="fa fa-google-plus-square"></i>
                    </button>

                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="card">
                  <div class="header">
                    <h4 class="title" style="text-align: center">Edit Profile</h4>
                  </div>
                  <div class="content">
                    <div class="row">
                      <div class="col-md-12">
                        <div class="form-group">
                          <label>Username</label>
                          <input id="newName" type="text" class="form-control"
                                 placeholder="Username"
                                 th:value="${person.name}">
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <div class="form-group">
                          <label>Status</label>
                          <textarea id="newStatus" rows="5" class="form-control"
                                    placeholder="Your status here."
                                    th:text="${person.status}"></textarea>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12 text-center">
                        <button id="updateProfile" type="submit" class="btn btn-default btn-fill"
                                disabled>
                          Update Profile
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="card">
                  <div class="header">
                    <h4 class="title" style="text-align: center">Select your profile picture</h4>
                  </div>
                  <div class="content">
                    <div class="picker">
                      <select class='image-picker'>
                        <option
                            th:selected="${person.avatar} == 1"
                            data-img-src='/img/avatars/1.png' data-img-class="first"
                            data-img-alt="Page 1" value='1'> Avatar 1
                        </option>
                        <option
                            th:selected="${person.avatar} == 2"
                            data-img-src='/img/avatars/2.png' data-img-alt="Avatar 2" value='2'>
                          Avatar 2
                        </option>
                        <option
                            th:selected="${person.avatar} == 3"
                            data-img-src='/img/avatars/3.png' data-img-alt="Avatar 3" value='3'>
                          Avatar 3
                        </option>
                        <option
                            th:selected="${person.avatar} == 4"
                            data-img-src='/img/avatars/4.png' data-img-alt="Avatar 4" value='4'>
                          Avatar 4
                        </option>
                        <option
                            th:selected="${person.avatar} == 5"
                            data-img-src='/img/avatars/5.png' data-img-alt="Avatar 5" value='5'>
                          Avatar 5
                        </option>
                        <option
                            th:selected="${person.avatar} == 6"
                            data-img-src='/img/avatars/6.png' data-img-alt="Avatar 6" value='6'>
                          Avatar 6
                        </option>
                        <option
                            th:selected="${person.avatar} == 7"
                            data-img-src='/img/avatars/7.png' data-img-alt="Avatar 7" value='7'>
                          Avatar 7
                        </option>
                        <option
                            th:selected="${person.avatar} == 8"
                            data-img-src='/img/avatars/8.png' data-img-alt="Avatar 8" value='8'>
                          Avatar 8
                        </option>
                        <option
                            th:selected="${person.avatar} == 9"
                            data-img-src='/img/avatars/9.png' data-img-alt="Avatar 9" value='9'>
                          Avatar 9
                        </option>
                        <option
                            th:selected="${person.avatar} == 10"
                            data-img-src='/img/avatars/10.png' data-img-alt="Avatar 10"
                            value='10'>
                          Avatar 10
                        </option>
                        <option
                            th:selected="${person.avatar} == 11"
                            data-img-src='/img/avatars/11.png' data-img-alt="Avatar 11"
                            value='11'>
                          Avatar 11
                        </option>
                        <option
                            th:selected="${person.avatar} == 12"
                            data-img-src='/img/avatars/12.png' data-img-alt="Avatar 12"
                            value='12'>
                          Avatar 12
                        </option>
                        <option
                            th:selected="${person.avatar} == 13"
                            data-img-src='/img/avatars/13.png' data-img-alt="Avatar 13"
                            value='13'>
                          Avatar 13
                        </option>
                        <option
                            th:selected="${person.avatar} == 14"
                            data-img-src='/img/avatars/14.png' data-img-alt="Avatar 14"
                            value='14'>
                          Avatar 14
                        </option>
                        <option
                            th:selected="${person.avatar} == 15"
                            data-img-src='/img/avatars/15.png' data-img-alt="Avatar 15"
                            value='15'>
                          Avatar 15
                        </option>
                        <option
                            th:selected="${person.avatar} == 16"
                            data-img-src='/img/avatars/16.png' data-img-alt="Avatar 16"
                            value='16'>
                          Avatar 16
                        </option>
                        <option
                            th:selected="${person.avatar} == 17"
                            data-img-src='/img/avatars/17.png' data-img-alt="Avatar 17"
                            value='17'>
                          Avatar 17
                        </option>
                        <option
                            th:selected="${person.avatar} == 18"
                            data-img-src='/img/avatars/18.png' data-img-alt="Avatar 18"
                            value='18'>
                          Avatar 18
                        </option>
                        <option
                            th:selected="${person.avatar} == 19"
                            data-img-src='/img/avatars/19.png' data-img-alt="Avatar 19"
                            value='19'>
                          Avatar 19
                        </option>
                        <option
                            th:selected="${person.avatar} == 20"
                            data-img-src='/img/avatars/20.png' data-img-alt="Avatar 20"
                            value='20'>
                          Avatar 20
                        </option>
                        <option
                            th:selected="${person.avatar} == 21"
                            data-img-src='/img/avatars/21.png' data-img-alt="Avatar 21"
                            value='21'>
                          Avatar 21
                        </option>
                        <option
                            th:selected="${person.avatar} == 22"
                            data-img-src='/img/avatars/22.png' data-img-alt="Avatar 22"
                            value='22'>
                          Avatar 22
                        </option>
                        <option
                            th:selected="${person.avatar} == 23"
                            data-img-src='/img/avatars/23.png' data -img-alt="Avatar 23"
                            value='23'>
                          Avatar 23
                        </option>
                        <option
                            th:selected="${person.avatar} == 24"
                            data-img-src='/img/avatars/24.png' data-img-alt="Avatar 24"
                            data-img-class="last" value='24'> Avatar 24
                        </option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card">
              <div class="header">
                <h4 th:if="!${tutee}" class="title" style="text-align: center">Student
                  Information</h4>
                <h4 th:if="${tutee}" class="title" style="text-align: center">Tutor
                  Information</h4>
              </div>
              <div class="content">
                <div class="table-responsive table-full-width">
                  <table class="table table-hover table-striped">
                    <thead>
                    <th style="text-align: center">Name</th>
                    <th th:if="!${tutee}" style="text-align: center">Options</th>
                    </thead>
                    <tbody>
                    <div th:each="person : ${personList}">
                      <tr>
                        <td style="text-align: center;" th:text="${person.name}"></td>
                        <td th:if="!${tutee}">
                          <button type="button" th:id="'r-'+${person.id}"
                                  th:attr="onclick=|removeTutee('${person.id}')|"
                                  class="btn btn-danger btn-block">Remove
                          </button>
                        </td>
                      </tr>

                    </div>
                    </tbody>
                  </table>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

</body>

<style>
  img {
    height: 100px;
    width: 100px;
  }

</style>

<!--   Core JS Files   -->
<script src="/js/jquery.3.2.1.min.js" type="text/javascript"></script>
<script src="/js/bootstrap.min.js" type="text/javascript"></script>

<!--  Charts Plugin -->
<script src="/js/chartist.min.js"></script>

<!--  Notifications Plugin    -->
<script src="/js/bootstrap-notify.js"></script>

<!-- Light Bootstrap Table Core javascript and methods for Demo purpose -->
<script src="/js/light-bootstrap-dashboard.js?v=1.4.0"></script>

<!-- Light Bootstrap Table DEMO methods, don't include it in your project! -->
<!--<script src="/js/demo.js"></script>-->

<script src="/js/image-picker.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.4.0/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<script src="/js/user.js"></script>
<script src="/loginAssets/js/main.js"></script>
<script src="/loginAssets/vendor/tilt/tilt.jquery.min.js"></script>
<script>
  $("select").imagepicker({
    hide_select: true,
  });

  $(".image-picker").imagepicker({

    clicked: function () {
      const imgPath = $(this).find("option[value='" + $(this).val() + "']").data('img-src')
      console.log(imgPath)
      $("#profilePic").attr('src', imgPath)
      const avatarId = imgPath.substring(13, imgPath.length).split('.')[0]
      $("#profilePic").attr('alt', avatarId)
      enableUpdate()

    }

  });
  $('.js-tilt').tilt({
    scale: 1.1
  })
</script>

</html>
